syntax = "proto3";

package proto;

option go_package = "proto/";

import "proto/auth.proto";

message User {
  int64 id = 1;
  string username = 2;
  string role = 3;
  string created_at = 4;
}

message GetUserRequest {
  int64 id = 1;
}

message GetUserResponse {
  User user = 1;
}

message UpdateUserRequest {
  int64 id = 1;
  string username = 2;
  string role = 3;
}

message UpdateUserResponse {
  User user = 1;
}

message CreateUserProfileRequest {
  int64 id = 1;
  string username = 2;
  string role = 3;
}

message CreateUserProfileResponse {}

message ChangePasswordRequest {
  int64 id = 1;
  string old_password = 2;
  string new_password = 3;
}
message ChangePasswordResponse {}

service UserService {
  rpc GetUser(GetUserRequest) returns (GetUserResponse);
  rpc UpdateUser(UpdateUserRequest) returns (UpdateUserResponse);
  rpc CreateUserProfile(CreateUserProfileRequest) returns (CreateUserProfileResponse);
  rpc ChangePassword(ChangePasswordRequest) returns (ChangePasswordResponse);
  rpc UpdateUserProfile(UpdateUserProfileRequest) returns (UpdateUserProfileResponse);
}